/* @import url("https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"); */
/* @import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"); */
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base Colors - Light Theme */
    --background: 0 0% 97%; /* White tone - slightly off pure white, darker as "further away" */
    --foreground: 215 15% 20%; /* Dark gray for text */

    /* Card variants - lighter = more prominent */
    --card: 0 0% 98%; /* Slightly off white - closest, draws attention */
    --card-foreground: 215 15% 20%;
    --card-elevated: 0 0% 98.5%; /* Very light white tone */
    --card-elevated-foreground: 215 15% 20%;
    --card-base: 0 0% 99%; /* Lighter white tone - recedes but not too dark */
    --card-base-foreground: 215 15% 20%;

    --popover: 0 0% 98%;
    --popover-foreground: 215 15% 20%;

    /* Primary - Vibrant blue that stands out (increased saturation) */
    --primary: 217 54% 24%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Complementary muted color for badges, etc. */
    --secondary: 215 15% 85%; /* Light blue-gray */
    --secondary-foreground: 215 15% 20%;

    /* Accent - Matches primary for consistency */
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;

    /* Muted - Darker than background for depth */
    --muted: 0 0% 95%; /* Darker than background */
    --muted-foreground: 215 15% 40%; /* Darker gray for better contrast (WCAG AA) */

    /* Status Colors */
    --success: 114 58% 34%; /* Same green as primary */
    --success-foreground: 0 0% 100%;

    --destructive: 0 70% 50%; /* Red for errors */
    --destructive-foreground: 0 0% 100%;

    --info: 200 60% 50%; /* Blue for info */
    --info-foreground: 0 0% 100%;

    /* Borders and Inputs */
    --border: 215 15% 88%; /* Light gray borders */
    --input: 215 15% 88%;
    --ring: var(--primary); /* Green focus ring */

    --radius: 0.5rem;

    /* Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsla(217, 59%, 46%, 0.9) 0%,
      hsla(217, 81%, 27%, 0.8) 100%
    );
    --gradient-destructive: linear-gradient(
      135deg,
      hsla(0, 70%, 50%, 0.9) 0%,
      hsla(0, 65%, 55%, 0.8) 100%
    );
    --gradient-success: linear-gradient(
      135deg,
      hsla(114, 45%, 45%, 0.9) 0%,
      hsla(114, 40%, 40%, 0.8) 100%
    );
    --gradient-card: linear-gradient(
      to bottom,
      hsl(0 0% 98%),
      hsl(0 0% 99%)
    );
    --gradient-hero: linear-gradient(
      135deg,
      hsla(0, 0%, 97%, 0.4) 0%,
      hsla(0, 0%, 97%, 0.7) 50%,
      hsla(0, 0%, 95%, 0.8) 100%
    );

    /* Default Shadows - Light Theme */
    --shadow-sm: 0 1px 2px 0 hsl(215 20% 10% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(215 20% 10% / 0.1),
      0 2px 4px -1px hsl(215 20% 10% / 0.06);
    --shadow-lg: 0 10px 15px -3px hsl(215 20% 10% / 0.1),
      0 4px 6px -2px hsl(215 20% 10% / 0.05);

    /* Card Shadows - Light Theme */
    /* Subtle inset highlight (lighter than card) + outer shadow (darker) */
    --shadow-card-sm: inset 0 1px 2px hsl(0 0% 100% / 0.6),
      0 1px 2px hsl(0 0% 0% / 0.05), 0 2px 4px hsl(0 0% 0% / 0.08);

    --shadow-card-md: inset 0 1px 3px hsl(0 0% 100% / 0.7),
      0 2px 4px hsl(0 0% 0% / 0.08), 0 4px 8px hsl(0 0% 0% / 0.1);

    --shadow-card-lg: inset 0 2px 4px hsl(0 0% 100% / 0.8),
      0 4px 6px hsl(0 0% 0% / 0.1), 0 8px 16px hsl(0 0% 0% / 0.12);
    
    --shadow-inset: inset 0 0px 10px 0 hsl(215 20% 10% / 0.1);
  }

  .dark {
    --background: 0 0% 10%; /* Dark gray - darker, "further away" */
    --foreground: 0 0% 85%; /* Light gray for text */

    /* Card variants - lighter = more prominent */
    --card: 0 0% 15%; /* Lighter dark-gray - closest, draws attention */
    --card-foreground: 0 0% 85%;
    --card-elevated: 0 0% 15%; /* Medium dark-gray */
    --card-elevated-foreground: 0 0% 85%;
    --card-base: 0 0% 14%; /* Darker dark-gray - recedes */
    --card-base-foreground: 0 0% 85%;

    --popover: 0 0% 18%;
    --popover-foreground: 0 0% 85%;

    /* Primary - Vibrant blue, slightly adjusted for dark theme visibility (increased saturation) */
    --primary: 217 90% 65%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 25%; /* Muted gray for secondary elements */
    --secondary-foreground: 0 0% 85%;

    --accent: 217 85% 65%; /* Matches primary for consistency */
    --accent-foreground: 0 0% 100%;

    --muted: 0 0% 12%; /* Slightly lighter than background but still dark */
    --muted-foreground: 0 0% 75%; /* Slightly darker for better contrast (WCAG AA) */

    --success: 114 45% 45%; /* Calmer, less saturated green */
    --success-foreground: 0 0% 100%;

    --destructive: 0 65% 55%; /* Softer red that pops but isn’t harsh */
    --destructive-foreground: 0 0% 100%;

    --info: 200 65% 60%; /* Bright blue for info states */
    --info-foreground: 0 0% 100%;

    --border: 0 0% 25%; /* Subtle border lines */
    --input: 0 0% 25%;
    --ring: var(--primary); /* Highlight color remains consistent */

    --radius: 0.5rem;

    /* Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsla(217, 90%, 65%, 0.7) 0%,
      hsla(217, 85%, 55%, 0.6) 100%
    );
    --gradient-destructive: linear-gradient(
      135deg,
      hsla(0, 65%, 55%, 0.7) 0%,
      hsla(0, 70%, 50%, 0.6) 100%
    );
    --gradient-success: linear-gradient(
      135deg,
      hsla(114, 45%, 45%, 0.7) 0%,
      hsla(114, 40%, 40%, 0.6) 100%
    );

    --gradient-card: linear-gradient(
      to bottom,
      hsl(0 0% 18%),
      hsl(0 0% 13%)
    );

    --gradient-hero: linear-gradient(
      135deg,
      hsla(0, 0%, 12%, 0.8) 0%,
      hsla(0, 0%, 8%, 0.9) 100%
    );

    /* Shadows - Dark Theme (light highlights instead of dark shadows) */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.4);

    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.45),
      0 2px 4px -1px hsl(0 0% 0% / 0.35);

    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.5),
      0 4px 6px -2px hsl(0 0% 0% / 0.35);

    /* Card Shadows - Emphasis on soft depth + subtle inner light */
    /* Card Shadows – soft inner highlight + deep realistic drop shadows */
    --shadow-card-sm: inset 0 1px 2px hsl(0 0% 20% / 0.6),
      /* light highlight on top edge */ 0 1px 2px hsl(0 0% 0% / 0.5),
      /* deep subtle drop shadow */ 0 2px 4px hsl(0 0% 0% / 0.35); /* diffuse depth layer */

    --shadow-card-md: inset 0 1px 3px hsl(0 0% 22% / 0.7),
      /* stronger top-edge highlight */ 0 2px 4px hsl(0 0% 0% / 0.55),
      /* main shadow depth */ 0 4px 8px hsl(0 0% 0% / 0.4); /* soft ambient layer */

    --shadow-card-lg: inset 0 2px 4px hsl(0 0% 25% / 0.75),
      /* pronounced highlight */ 0 4px 6px hsl(0 0% 0% / 0.55),
      /* grounded shadow */ 0 8px 16px hsl(0 0% 0% / 0.45); /* large-area falloff */
    
    --shadow-inset: inset 0 0px 10px 0 hsl(0 0% 0% / 0.4);
  }
}

html {
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Unified scrollbar styles for all scrollable areas */
@layer base {
  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }

  /* Webkit browsers (Chrome, Safari, Edge) */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary) / 0.5);
  }

  /* Dark theme scrollbar */
  .dark * {
    scrollbar-color: hsl(var(--border)) transparent;
  }

  .dark *::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
  }

  .dark *::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary) / 0.6);
  }
}

@layer utilities {
  /* Consistent section padding scale */
  .section-padding {
    @apply py-20 md:py-32;
  }
  
  .section-padding-sm {
    @apply py-16 md:py-24;
  }
  
  .section-padding-lg {
    @apply py-24 md:py-40;
  }
}

@layer base {
  *,
  *::before,
  *::after {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    line-height: 1.7;
  }

  /* Display font for hero headlines */
  h1 {
    font-family: "Inter", "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 800;
    line-height: 1.2;
    font-size: 3rem;
    letter-spacing: -0.02em;
  }

  h2 {
    font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 700;
    line-height: 1.2;
    font-size: 2.25rem;
  }

  h3 {
    font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 600;
    line-height: 1.3;
    font-size: 1.5rem;
  }

  h4 {
    font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 600;
    line-height: 1.4;
    font-size: 1.25rem;
  }

  h5,
  h6 {
    font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 600;
    line-height: 1.4;
  }

  @media (max-width: 768px) {
    h1 {
      font-size: 2rem;
      letter-spacing: -0.01em;
    }
    h2 {
      font-size: 1.75rem;
    }
    h3 {
      font-size: 1.375rem;
    }
    h4 {
      font-size: 1.125rem;
    }
  }
}
/* 
.wmde-markdown table {
  display: table !important;
  width: 100% !important;
  max-width: 100% !important;
  -moz-width: auto !important;
}

@layer components {
  .markdown-body {
    @apply text-foreground;
  }
  .markdown-body .katex {
    font-size: 1.05em;
  }
  .markdown-body .katex-display {
    margin: 1em 0;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .markdown-body code,
  .wmde-markdown code {
    @apply px-1 py-0.5 rounded text-sm;
  }
  .markdown-body pre,
  .wmde-markdown pre {
    @apply p-4 rounded-lg overflow-x-auto border border-border;
    background-color: hsl(var(--background)) !important;
  }
  .markdown-body pre code,
  .wmde-markdown pre code {
    @apply p-0;
    background-color: inherit !important;
  }
  .markdown-body ul {
    list-style-type: disc;
    padding-left: 2em;
    margin: 1em 0;
  }
  .markdown-body ol {
    list-style-type: decimal;
    padding-left: 2em;
    margin: 1em 0;
  }
  .markdown-body li {
    margin: 0.5em 0;
  }

  .markdown-body table {
    display: block;
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
    border-collapse: collapse;
    overflow: hidden;
    margin: 1rem 0;
    border: none !important;
  }
  .markdown-body th,
  .markdown-body td {
    text-align: left;
    padding: 0.2rem 0.67rem !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  .markdown-body th {
    background-color: hsl(var(--background));
    font-weight: 600;
    overflow: hidden;
    font-size: 1rem;
    color: hsl(var(--foreground));
  }

  .markdown-body tbody tr:nth-child(odd) td {
    background-color: hsl(var(--secondary) / 0.7);
  }

  .markdown-body tbody tr:nth-child(even) td {
    background-color: hsl(var(--background) / 0.8);
  }

  @media (max-width: 768px) {
    .markdown-body td {
      font-size: 0.875rem;
    }
  }
  @media (min-width: 768px) {
    .markdown-body td {
      font-size: 1rem;
    }
  }
} 

 #chat-messages a {
  color: hsl(var(--primary)) !important;
  text-decoration: underline !important;
}

#chat-messages a:hover {
  color: hsl(var(--primary)) !important;
  text-decoration: underline !important;
  opacity: 0.8;
} */

/* Disable hover and focus effects on mobile for option buttons - only active/inactive states */
@media (max-width: 768px) {
  /* Disable hover completely on mobile */
  button[type="button"].touch-manipulation:hover {
    background-color: inherit !important;
    color: inherit !important;
    border-color: inherit !important;
  }

  /* Disable focus completely on mobile - buttons should only show active/inactive state */
  button[type="button"].touch-manipulation:focus {
    outline: none !important;
    background-color: inherit !important;
    color: inherit !important;
    border-color: inherit !important;
  }

  /* Ensure selected state always shows, regardless of focus */
  button[type="button"].touch-manipulation[data-selected="true"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
    border-color: hsl(var(--primary)) !important;
  }

  button[type="button"].touch-manipulation[data-selected="true"]:focus {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
    border-color: hsl(var(--primary)) !important;
  }
}

/* Mobile chatbot improvements */
@layer base {
  /* Prevent zoom on input focus in chatbot (iOS Safari) */
  @media (max-width: 768px) {
    /* Ensure inputs in chatbot have minimum font size to prevent zoom */
    [data-chatbot-dialog] textarea,
    [data-chatbot-dialog] input[type="text"],
    [data-chatbot-dialog] input[type="email"],
    [data-chatbot-dialog] input[type="tel"] {
      font-size: 16px !important;
    }

    /* Better touch targets for mobile */
    [data-chatbot-dialog] button {
      min-height: 44px;
      min-width: 44px;
    }

    /* Prevent text selection on mobile for better touch UX */
    [data-chatbot-dialog] {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }

    /* Allow text selection in message content */
    [data-chatbot-dialog] [class*="chat-bubble"],
    [data-chatbot-dialog] [class*="markdown"],
    [data-chatbot-dialog] p,
    [data-chatbot-dialog] li,
    [data-chatbot-dialog] span:not(button span) {
      -webkit-touch-callout: default;
      user-select: text;
      -webkit-user-select: text;
    }
  }
}
