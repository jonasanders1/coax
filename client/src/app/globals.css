@import url("https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base Colors - Light Theme */
    --background: 45 25% 98%; /* #f9f8f5 */
    --foreground: 215 25% 20%; /* Dark blue-gray for text */

    --card: 45 15% 95%; /* More distinct from background */
    --card-foreground: 215 25% 20%;

    --popover: 45 15% 95%;
    --popover-foreground: 215 25% 20%;

    --primary: 217 54% 24%;

    --primary-foreground: 0 0% 100%;

    /* Secondary - Complementary muted color for badges, etc. */
    --secondary: 215 15% 85%; /* Light blue-gray */
    --secondary-foreground: 215 25% 20%;

    /* Accent - Same green as primary for consistency */
    --accent: 217 54% 24%; /* #2E8824 */
    --accent-foreground: 0 0% 100%;

    /* Muted - Very light background for subtle elements */
    --muted: 45 10% 92%; /* More distinct muted background */
    --muted-foreground: 215 15% 45%; /* Medium gray for muted text */

    /* Status Colors */
    --success: 114 58% 34%; /* Same green as primary */
    --success-foreground: 0 0% 100%;

    --destructive: 0 70% 50%; /* Red for errors */
    --destructive-foreground: 0 0% 100%;

    --info: 200 60% 50%; /* Blue for info */
    --info-foreground: 0 0% 100%;

    /* Borders and Inputs */
    --border: 215 15% 88%; /* Light gray borders */
    --input: 215 15% 88%;
    --ring: var(--primary); /* Green focus ring */

    --radius: 0.5rem;

    /* Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsla(217, 54%, 24%, 0.9) 0%,
      hsla(217, 38%, 39%, 0.8) 100%
    );
    --gradient-destructive: linear-gradient(
      135deg,
      hsla(0, 70%, 50%, 0.9) 0%,
      hsla(0, 65%, 55%, 0.8) 100%
    );
    --gradient-success: linear-gradient(
      135deg,
      hsla(114, 45%, 45%, 0.9) 0%,
      hsla(114, 40%, 40%, 0.8) 100%
    );
    --gradient-card: linear-gradient(
      to bottom,
      hsl(45 15% 95%),
      hsl(45 10% 92%)
    );
    --gradient-hero: linear-gradient(
      135deg,
      hsla(60, 20%, 98%, 0.4) 0%,
      hsla(60, 20%, 98%, 0.7) 50%,
      hsla(45, 20%, 96%, 0.8) 100%
    );

    /* Default Shadows - Light Theme */
    --shadow-sm: 0 1px 2px 0 hsl(215 20% 10% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(215 20% 10% / 0.1),
      0 2px 4px -1px hsl(215 20% 10% / 0.06);
    --shadow-lg: 0 10px 15px -3px hsl(215 20% 10% / 0.1),
      0 4px 6px -2px hsl(215 20% 10% / 0.05);

    /* Card Shadows - Light Theme */
    /* Subtle inset highlight (lighter than card) + outer shadow (darker) */
    --shadow-card-sm: inset 0 1px 2px hsl(45 25% 98% / 0.6),
      0 1px 2px hsl(45 10% 60% / 0.1), 0 2px 4px hsl(215 20% 10% / 0.08);

    --shadow-card-md: inset 0 1px 3px hsl(45 25% 98% / 0.7),
      0 2px 4px hsl(45 10% 50% / 0.12), 0 4px 8px hsl(215 20% 10% / 0.1);

    --shadow-card-lg: inset 0 2px 4px hsl(45 25% 98% / 0.8),
      0 4px 6px hsl(45 10% 40% / 0.15), 0 8px 16px hsl(215 20% 10% / 0.12);
  }

  .dark {
    /* Base Colors - Dark Theme */
    /* --background: 215 35% 12%;
    --foreground: 0 0% 95%;

    --card: 215 30% 16%;
    --card-foreground: 0 0% 95%;

    --popover: 215 30% 16%;
    --popover-foreground: 0 0% 95%;

    --primary: 212 84% 59%;
    --primary-foreground: 0 0% 100%;

    --secondary: 215 20% 25%;
    --secondary-foreground: 0 0% 90%;

    --accent: 212 84% 59%;
    --accent-foreground: 0 0% 100%;

    --muted: 215 25% 18%;
    --muted-foreground: 0 0% 70%;

    --success: 114 58% 34%;
    --success-foreground: 0 0% 100%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;

    --info: 200 70% 60%;
    --info-foreground: 0 0% 100%;

    --border: 215 20% 25%;
    --input: 215 20% 25%;
    --ring: var(--primary);

    --gradient-primary: linear-gradient(
      135deg,
      hsl(212, 77%, 62%) 100%,
      hsl(212, 84%, 59%) 100%
    );
    --gradient-card: linear-gradient(
      to bottom,
      hsl(215 30% 16%),
      hsl(215 25% 14%)
    );
    --gradient-hero: linear-gradient(
      135deg,
      hsla(214, 34%, 12%, 0.4) 0%,
      hsla(216, 29%, 10%, 0.7) 50%,
      hsla(216, 29%, 10%, 0.8) 100%
    );

    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.3);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.4),
      0 2px 4px -1px hsl(0 0% 0% / 0.3);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.5),
      0 4px 6px -2px hsl(0 0% 0% / 0.4);

    --shadow-card-sm: inset 0 1px 2px hsl(215 30% 24% / 0.6),
      0 1px 2px hsl(215 35% 8% / 0.5), 0 2px 4px hsl(215 35% 5% / 0.3);

    --shadow-card-md: inset 0 1px 3px hsl(215 30% 24% / 0.7),
      0 2px 4px hsl(215 35% 8% / 0.6), 0 4px 8px hsl(215 35% 5% / 0.4);

    --shadow-card-lg: inset 0 2px 4px hsl(215 30% 24% / 0.8),
      0 4px 6px hsl(215 35% 8% / 0.7), 0 8px 16px hsl(215 35% 5% / 0.5); */
    --background: 215 25% 10%; /* Deep blue-gray */
    --foreground: 45 15% 92%; /* Light warm-gray for text */

    --card: 215 20% 13%; /* Slightly lighter than background */
    --card-foreground: 45 15% 92%;

    --popover: 215 20% 13%;
    --popover-foreground: 45 15% 92%;

    --primary: 217 50% 60%; /* Muted blue-green with good contrast */
    --primary-foreground: 0 0% 100%;

    --secondary: 215 15% 25%; /* Muted blue-gray for secondary elements */
    --secondary-foreground: 45 20% 85%;

    --accent: 217 50% 60%; /* Matches primary for consistency */
    --accent-foreground: 0 0% 100%;

    --muted: 215 15% 18%; /* Subtle background for muted elements */
    --muted-foreground: 215 10% 80%; /* Neutral gray for muted content */

    --success: 114 45% 45%; /* Calmer, less saturated green */
    --success-foreground: 0 0% 100%;

    --destructive: 0 65% 55%; /* Softer red that pops but isn’t harsh */
    --destructive-foreground: 0 0% 100%;

    --info: 200 65% 60%; /* Bright blue for info states */
    --info-foreground: 0 0% 100%;

    --border: 215 15% 25%; /* Subtle border lines */
    --input: 215 15% 25%;
    --ring: var(--primary); /* Highlight color remains consistent */

    --radius: 0.5rem;

    /* Gradients */
    --gradient-primary: linear-gradient(
      135deg,
      hsla(217, 50%, 60%, 0.7) 0%,
      hsla(217, 45%, 45%, 0.6) 100%
    );
    --gradient-destructive: linear-gradient(
      135deg,
      hsla(0, 65%, 55%, 0.7) 0%,
      hsla(0, 70%, 50%, 0.6) 100%
    );
    --gradient-success: linear-gradient(
      135deg,
      hsla(114, 45%, 45%, 0.7) 0%,
      hsla(114, 40%, 40%, 0.6) 100%
    );

    --gradient-card: linear-gradient(
      to bottom,
      hsl(215 20% 13%),
      hsl(215 15% 10%)
    );

    --gradient-hero: linear-gradient(
      135deg,
      hsla(215, 25%, 12%, 0.8) 0%,
      hsla(215, 25%, 8%, 0.9) 100%
    );

    /* Shadows - Dark Theme (light highlights instead of dark shadows) */
    --shadow-sm: 0 1px 2px 0 hsl(215 50% 2% / 0.4);

    --shadow-md: 0 4px 6px -1px hsl(215 50% 2% / 0.45),
      0 2px 4px -1px hsl(215 50% 2% / 0.35);

    --shadow-lg: 0 10px 15px -3px hsl(215 50% 2% / 0.5),
      0 4px 6px -2px hsl(215 50% 2% / 0.35);

    /* Card Shadows - Emphasis on soft depth + subtle inner light */
    /* Card Shadows – soft inner highlight + deep realistic drop shadows */
    --shadow-card-sm: inset 0 1px 2px hsl(215 15% 20% / 0.6),
      /* light highlight on top edge */ 0 1px 2px hsl(215 50% 2% / 0.5),
      /* deep subtle drop shadow */ 0 2px 4px hsl(215 50% 2% / 0.35); /* diffuse depth layer */

    --shadow-card-md: inset 0 1px 3px hsl(215 15% 22% / 0.7),
      /* stronger top-edge highlight */ 0 2px 4px hsl(215 50% 2% / 0.55),
      /* main shadow depth */ 0 4px 8px hsl(215 50% 2% / 0.4); /* soft ambient layer */

    --shadow-card-lg: inset 0 2px 4px hsl(215 15% 25% / 0.75),
      /* pronounced highlight */ 0 4px 6px hsl(215 50% 2% / 0.55),
      /* grounded shadow */ 0 8px 16px hsl(215 50% 2% / 0.45); /* large-area falloff */
  }
}

html {
  transition: background-color 0.3s ease, color 0.3s ease;
}

@layer base {
  *,
  *::before,
  *::after {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    line-height: 1.6;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
      sans-serif;
    font-weight: 700;
    line-height: 1.2;
  }

  h1 {
    font-size: 3rem;
  }
  h2 {
    font-size: 2rem;
  }
  h3 {
    font-size: 1.5rem;
  }

  @media (max-width: 768px) {
    h1 {
      font-size: 2rem;
    }
    h2 {
      font-size: 1.5rem;
    }
    h3 {
      font-size: 1.25rem;
    }
  }
}
.wmde-markdown table {
  display: table !important; /* Restore standard table layout; original 'block' likely enables scrolling but breaks alignment */
  width: 100% !important; /* Force full width of the parent container */
  max-width: 100% !important; /* Prevent exceeding parent */
  -moz-width: auto !important; /* Override the vendor-prefixed version if present */
}

/* KaTeX and Markdown styling */
@layer components {
  .markdown-body {
    @apply text-foreground;
  }
  .markdown-body .katex {
    font-size: 1.05em;
  }
  .markdown-body .katex-display {
    margin: 1em 0;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .markdown-body code,
  .wmde-markdown code {
    @apply px-1 py-0.5 rounded text-sm;
  }
  .markdown-body pre,
  .wmde-markdown pre {
    @apply p-4 rounded-lg overflow-x-auto border border-border;
    background-color: hsl(var(--background)) !important; /* amber-400 */
  }
  .markdown-body pre code,
  .wmde-markdown pre code {
    @apply p-0;
    background-color: inherit !important; /* amber-400 */
  }
  /* .markdown-body table { display: block; width: 100%; overflow-x: auto; } */

  /* List styles */
  .markdown-body ul {
    list-style-type: disc;
    padding-left: 2em;
    margin: 1em 0;
  }
  .markdown-body ol {
    list-style-type: decimal;
    padding-left: 2em;
    margin: 1em 0;
  }
  .markdown-body li {
    margin: 0.5em 0;
  }

  .markdown-body table {
    display: block;
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
    border-collapse: collapse;
    /* border-radius: 0.5rem; */
    overflow: hidden;
    margin: 1rem 0;
    border: none !important;
  }
  .markdown-body th,
  .markdown-body td {
    text-align: left;
    padding: 0.2rem 0.67rem !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  /* Table header styling */
  .markdown-body th {
    background-color: hsl(var(--background));
    font-weight: 600;
    overflow: hidden;
    font-size: 1rem;
    color: hsl(var(--foreground));
  }

  /* Table row styling */
  .markdown-body tbody tr:nth-child(odd) td {
    background-color: hsl(var(--secondary) / 0.7);
  }

  /* Alternate row colors for better readability */
  .markdown-body tbody tr:nth-child(even) td {
    background-color: hsl(var(--background) / 0.8);
  }

  @media (max-width: 768px) {
    .markdown-body td {
      font-size: 0.875rem;
    }
  }
  @media (min-width: 768px) {
    .markdown-body td {
      font-size: 1rem;
    }
  }
}
